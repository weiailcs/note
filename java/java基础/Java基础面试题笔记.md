![image-20210817172539195](../../../asserts/Java基础面试题笔记/image-20210817172539195.png)

![image-20210817172557333](../../../asserts/Java基础面试题笔记/image-20210817172557333.png)

CAS可以保证一个序列的指令必定会连续执行，不被其它指令妨碍，可以保证变量操作的原子性。

as-if-serial和happens-before均提高程序执行的并行度

**as-if-serial:不管怎么重排序，（单线程）程序的执行结果不能变。**

happens-before（保证多线程执行结果不变）：

1.如果一个操作happens-before另一个操作，那么第一个操作的执行结果将对第二个操作可见，而且第一个操作的执行顺序排在第二个操作之前。

2.两个操作之间存在happens-before关系，并不意味着Java平台的具体实现必须要按照happens-before关系指定的顺序来执行。如果重排序之后的执行结果，与按happens-before关系来执行的结果一致，那么JMM允许这种重排序。

![image-20210817172826728](../../../asserts/Java基础面试题笔记/image-20210817172826728.png)



![image-20210817172855201](../../../asserts/Java基础面试题笔记/image-20210817172855201.png)

![image-20210817172933252](../../../asserts/Java基础面试题笔记/image-20210817172933252.png)

![image-20210817172950521](../../../asserts/Java基础面试题笔记/image-20210817172950521.png)

![image-20210817173109645](../../../asserts/Java基础面试题笔记/image-20210817173109645.png)



Java浅拷贝

![image-20210817173351634](../../../asserts/Java基础面试题笔记/image-20210817173351634.png)

Java深拷贝

![image-20210817173457536](../../../asserts/Java基础面试题笔记/image-20210817173457536.png)

